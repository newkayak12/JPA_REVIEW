01 트랜잭션 범위의 영속성 컨텍스트 

	스프링 컨테이너는 트랜잭션 범위의 영속성 컨텍스트 전략을 기본적으로 사용한다. 이는 트랜잭션 생명 주기 == 영속성 컨텍스트 라는 의미이다.

주로 스프링 프레임워크를 사용하면 @Transactional 어노테이션을 선언해서 트랜잭션을 시작한다. 스프링 트랜잭션 AOP는 대상 메소드를 호출하기 직전에 트랜잭션을 시작하고 메소드가 끝나면 커밋 후 종료한다.

여기서 트랜잭션을 커밋하면 DB에 플러시하면서 반영한다.  여기에서 트랜잭션 단위 == 영속성 컨텍스트이므로 만약 하나의 트랜잭션 안에서 두 개의 Repository에 접근하면 이는 같은 영속성 컨텍스트를 사용한다.

스프링은 하나의 쓰레드 당 각각의 트랜잭션을 할당한다. 따라서 같은 엔티티 매니저를 호출해도 접근 하는 영속성 컨텍스트가 같을 수도 다를 수도 있다. 